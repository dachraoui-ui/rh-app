2025-05-11 01:44:13 [restartedMain] INFO  com.rh_app.hr_app.HrAppApplication - Starting HrAppApplication using Java 17.0.13 with PID 10256 (C:\Users\benot\IdeaProjects\rh-app\target\classes started by benot in C:\Users\benot\IdeaProjects\rh-app)
2025-05-11 01:44:13 [restartedMain] DEBUG com.rh_app.hr_app.HrAppApplication - Running with Spring Boot v3.4.3, Spring v6.2.3
2025-05-11 01:44:13 [restartedMain] INFO  com.rh_app.hr_app.HrAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-11 01:44:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-11 01:44:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-11 01:44:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-11 01:44:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 84 ms. Found 8 JPA repository interfaces.
2025-05-11 01:44:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-05-11 01:44:16 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-11 01:44:16 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-05-11 01:44:16 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-11 01:44:16 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2237 ms
2025-05-11 01:44:16 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-11 01:44:16 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-05-11 01:44:16 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-11 01:44:16 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-11 01:44:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-11 01:44:16 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@378b3bda
2025-05-11 01:44:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-11 01:44:16 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-11 01:44:16 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.12
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-11 01:44:17 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-11 01:44:18 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 01:44:19 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-11 01:44:20 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-11 01:44:20 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name keycloakAuthenticationProvider
2025-05-11 01:44:20 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-05-11 01:44:21 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-11 01:44:21 [restartedMain] INFO  o.s.v.b.OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-05-11 01:44:21 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-11 01:44:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-05-11 01:44:21 [restartedMain] INFO  com.rh_app.hr_app.HrAppApplication - Started HrAppApplication in 8.388 seconds (process running for 9.195)
2025-05-11 01:44:22 [RMI TCP Connection(3)-192.168.0.115] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-11 01:44:22 [RMI TCP Connection(3)-192.168.0.115] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-11 01:44:22 [RMI TCP Connection(3)-192.168.0.115] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-05-11 01:44:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:44:31.833056800
2025-05-11 01:44:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:44:31.838665500
2025-05-11 01:44:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:44:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:44:41 [http-nio-8083-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-05-11 01:44:41 [http-nio-8083-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/non-archived
2025-05-11 01:44:41 [http-nio-8083-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/holidays/islamic/year/2025
2025-05-11 01:44:41 [http-nio-8083-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-05-11 01:44:41 [http-nio-8083-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/holidays/islamic/year/2025
2025-05-11 01:44:41 [http-nio-8083-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/non-archived
2025-05-11 01:44:42 [http-nio-8083-exec-4] DEBUG c.r.h.c.s.KeycloakJwtAuthenticationConverter - JWT contains roles: default-roles-rh-realm, offline_access, DRH, uma_authorization
2025-05-11 01:44:42 [http-nio-8083-exec-5] DEBUG c.r.h.c.s.KeycloakJwtAuthenticationConverter - JWT contains roles: default-roles-rh-realm, offline_access, DRH, uma_authorization
2025-05-11 01:44:42 [http-nio-8083-exec-6] DEBUG c.r.h.c.s.KeycloakJwtAuthenticationConverter - JWT contains roles: default-roles-rh-realm, offline_access, DRH, uma_authorization
2025-05-11 01:44:42 [http-nio-8083-exec-6] DEBUG o.s.s.o.s.r.a.JwtAuthenticationProvider - Authenticated token
2025-05-11 01:44:42 [http-nio-8083-exec-5] DEBUG o.s.s.o.s.r.a.JwtAuthenticationProvider - Authenticated token
2025-05-11 01:44:42 [http-nio-8083-exec-4] DEBUG o.s.s.o.s.r.a.JwtAuthenticationProvider - Authenticated token
2025-05-11 01:44:42 [http-nio-8083-exec-5] DEBUG o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter - Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2d12be30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DRH]]
2025-05-11 01:44:42 [http-nio-8083-exec-4] DEBUG o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter - Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2d12be30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DRH]]
2025-05-11 01:44:42 [http-nio-8083-exec-6] DEBUG o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter - Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2d12be30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DRH]]
2025-05-11 01:44:42 [http-nio-8083-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-05-11 01:44:42 [http-nio-8083-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/holidays/islamic/year/2025
2025-05-11 01:44:42 [http-nio-8083-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/non-archived
2025-05-11 01:44:42 [http-nio-8083-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.rh_app.hr_app.features.user.controller.UserController.getAllUsers(); target is of class [com.rh_app.hr_app.features.user.controller.UserController]
2025-05-11 01:44:42 [http-nio-8083-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.rh_app.hr_app.features.user.controller.UserController.getNonArchivedUsers(); target is of class [com.rh_app.hr_app.features.user.controller.UserController]
2025-05-11 01:44:42 [http-nio-8083-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.rh_app.hr_app.features.user.controller.UserController.getAllUsers(); target is of class [com.rh_app.hr_app.features.user.controller.UserController]
2025-05-11 01:44:42 [http-nio-8083-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.rh_app.hr_app.features.user.controller.UserController.getNonArchivedUsers(); target is of class [com.rh_app.hr_app.features.user.controller.UserController]
2025-05-11 01:44:43 [http-nio-8083-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/0bf560db-421f-4ebf-b806-3c26a9ada1e1
2025-05-11 01:44:43 [http-nio-8083-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/0bf560db-421f-4ebf-b806-3c26a9ada1e1
2025-05-11 01:44:43 [http-nio-8083-exec-7] DEBUG c.r.h.c.s.KeycloakJwtAuthenticationConverter - JWT contains roles: default-roles-rh-realm, offline_access, DRH, uma_authorization
2025-05-11 01:44:43 [http-nio-8083-exec-7] DEBUG o.s.s.o.s.r.a.JwtAuthenticationProvider - Authenticated token
2025-05-11 01:44:43 [http-nio-8083-exec-7] DEBUG o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter - Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2d12be30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DRH]]
2025-05-11 01:44:43 [http-nio-8083-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/0bf560db-421f-4ebf-b806-3c26a9ada1e1
2025-05-11 01:44:43 [http-nio-8083-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.rh_app.hr_app.features.user.controller.UserController.getUserById(java.lang.String); target is of class [com.rh_app.hr_app.features.user.controller.UserController]
2025-05-11 01:44:43 [http-nio-8083-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.rh_app.hr_app.features.user.controller.UserController.getUserById(java.lang.String); target is of class [com.rh_app.hr_app.features.user.controller.UserController]
2025-05-11 01:44:43 [http-nio-8083-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/c91193d8-2617-4dde-8fbf-3268e4053c69.jpg
2025-05-11 01:44:43 [http-nio-8083-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/c91193d8-2617-4dde-8fbf-3268e4053c69.jpg
2025-05-11 01:44:43 [http-nio-8083-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:45:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:45:31.823536200
2025-05-11 01:45:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:45:31.831832500
2025-05-11 01:45:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:45:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:46:22 [http-nio-8083-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/events
2025-05-11 01:46:22 [http-nio-8083-exec-4] DEBUG c.r.h.c.s.KeycloakJwtAuthenticationConverter - JWT contains roles: default-roles-rh-realm, offline_access, DRH, uma_authorization
2025-05-11 01:46:22 [http-nio-8083-exec-4] DEBUG o.s.s.o.s.r.a.JwtAuthenticationProvider - Authenticated token
2025-05-11 01:46:22 [http-nio-8083-exec-4] DEBUG o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter - Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2d12be30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DRH]]
2025-05-11 01:46:22 [http-nio-8083-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/events
2025-05-11 01:46:22 [http-nio-8083-exec-4] INFO  c.r.h.f.c.event.service.EventService - Creating event: Amen lmzagheb 
2025-05-11 01:46:22 [http-nio-8083-exec-4] INFO  c.r.h.f.c.event.service.EventService - Saved event with ID: 101
2025-05-11 01:46:22 [http-nio-8083-exec-4] INFO  c.r.h.f.c.event.service.EventService - Processing 1 notifications
2025-05-11 01:46:22 [http-nio-8083-exec-4] INFO  c.r.h.f.c.event.service.EventService - Creating notification for event 'Amen lmzagheb ': event at 2025-05-11T01:30, notification at 2025-05-11T01:23, isPast=true
2025-05-11 01:46:22 [http-nio-8083-exec-4] INFO  c.r.h.f.c.event.service.EventService - Notification time is in past, sending immediately
2025-05-11 01:46:22 [http-nio-8083-exec-4] INFO  c.r.h.f.c.event.service.EventService - Sending email to rayen.benothman07@gmail.com for event 'Amen lmzagheb '
2025-05-11 01:46:22 [http-nio-8083-exec-4] INFO  n.fortuna.ical4j.util.Configurator - ical4j.properties not found.
2025-05-11 01:46:24 [http-nio-8083-exec-4] INFO  c.r.hr_app.core.email.MailService - Event notification email sent to: rayen.benothman07@gmail.com
2025-05-11 01:46:24 [http-nio-8083-exec-4] INFO  c.r.h.f.c.event.service.EventService - Sending email to benothmanamenou@gmail.com for event 'Amen lmzagheb '
2025-05-11 01:46:26 [http-nio-8083-exec-4] INFO  c.r.hr_app.core.email.MailService - Event notification email sent to: benothmanamenou@gmail.com
2025-05-11 01:46:26 [http-nio-8083-exec-4] INFO  c.r.h.f.c.event.service.EventService - Event saved with 1 notifications
2025-05-11 01:46:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:46:31.828884600
2025-05-11 01:46:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:46:31.831150500
2025-05-11 01:46:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:46:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:47:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:47:31.827630500
2025-05-11 01:47:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:47:31.834809200
2025-05-11 01:47:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:47:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:48:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:48:31.834074300
2025-05-11 01:48:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:48:31.839999800
2025-05-11 01:48:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:48:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:49:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:49:31.830802200
2025-05-11 01:49:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:49:31.842916700
2025-05-11 01:49:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:49:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:50:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:50:31.823564100
2025-05-11 01:50:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:50:31.828272400
2025-05-11 01:50:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:50:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:50:50 [http-nio-8083-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/events
2025-05-11 01:50:50 [http-nio-8083-exec-7] DEBUG c.r.h.c.s.KeycloakJwtAuthenticationConverter - JWT contains roles: default-roles-rh-realm, offline_access, DRH, uma_authorization
2025-05-11 01:50:50 [http-nio-8083-exec-7] DEBUG o.s.s.o.s.r.a.JwtAuthenticationProvider - Authenticated token
2025-05-11 01:50:50 [http-nio-8083-exec-7] DEBUG o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter - Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2d12be30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DRH]]
2025-05-11 01:50:50 [http-nio-8083-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/events
2025-05-11 01:50:50 [http-nio-8083-exec-7] INFO  c.r.h.f.c.event.service.EventService - Creating event: Test event  
2025-05-11 01:50:50 [http-nio-8083-exec-7] INFO  c.r.h.f.c.event.service.EventService - Saved event with ID: 102
2025-05-11 01:50:50 [http-nio-8083-exec-7] INFO  c.r.h.f.c.event.service.EventService - Processing 1 notifications
2025-05-11 01:50:50 [http-nio-8083-exec-7] INFO  c.r.h.f.c.event.service.EventService - Creating notification for event 'Test event  ': event at 2025-05-11T01:30, notification at 2025-05-11T01:23, isPast=true
2025-05-11 01:50:50 [http-nio-8083-exec-7] INFO  c.r.h.f.c.event.service.EventService - Notification time is in past, sending immediately
2025-05-11 01:50:50 [http-nio-8083-exec-7] INFO  c.r.h.f.c.event.service.EventService - Sending email to rayen.benothman07@gmail.com for event 'Test event  '
2025-05-11 01:50:51 [http-nio-8083-exec-7] INFO  c.r.hr_app.core.email.MailService - Event notification email sent to: rayen.benothman07@gmail.com
2025-05-11 01:50:51 [http-nio-8083-exec-7] INFO  c.r.h.f.c.event.service.EventService - Sending email to raydineri07@gmail.com for event 'Test event  '
2025-05-11 01:50:53 [http-nio-8083-exec-7] INFO  c.r.hr_app.core.email.MailService - Event notification email sent to: raydineri07@gmail.com
2025-05-11 01:50:53 [http-nio-8083-exec-7] INFO  c.r.h.f.c.event.service.EventService - Event saved with 1 notifications
2025-05-11 01:51:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:51:31.824229200
2025-05-11 01:51:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:51:31.829790500
2025-05-11 01:51:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:51:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:51:52 [http-nio-8083-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/events
2025-05-11 01:51:52 [http-nio-8083-exec-10] DEBUG c.r.h.c.s.KeycloakJwtAuthenticationConverter - JWT contains roles: default-roles-rh-realm, offline_access, DRH, uma_authorization
2025-05-11 01:51:52 [http-nio-8083-exec-10] DEBUG o.s.s.o.s.r.a.JwtAuthenticationProvider - Authenticated token
2025-05-11 01:51:52 [http-nio-8083-exec-10] DEBUG o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter - Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2d12be30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DRH]]
2025-05-11 01:51:52 [http-nio-8083-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/events
2025-05-11 01:51:52 [http-nio-8083-exec-10] INFO  c.r.h.f.c.event.service.EventService - Creating event: Test event 2 
2025-05-11 01:51:52 [http-nio-8083-exec-10] INFO  c.r.h.f.c.event.service.EventService - Saved event with ID: 103
2025-05-11 01:51:52 [http-nio-8083-exec-10] INFO  c.r.h.f.c.event.service.EventService - Processing 1 notifications
2025-05-11 01:51:52 [http-nio-8083-exec-10] INFO  c.r.h.f.c.event.service.EventService - Creating notification for event 'Test event 2 ': event at 2025-05-11T01:55, notification at 2025-05-11T01:53, isPast=false
2025-05-11 01:51:52 [http-nio-8083-exec-10] INFO  c.r.h.f.c.event.service.EventService - Notification will be sent at: 2025-05-11T01:53
2025-05-11 01:51:52 [http-nio-8083-exec-10] INFO  c.r.h.f.c.event.service.EventService - Event saved with 1 notifications
2025-05-11 01:51:57 [http-nio-8083-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/events
2025-05-11 01:51:57 [http-nio-8083-exec-1] DEBUG c.r.h.c.s.KeycloakJwtAuthenticationConverter - JWT contains roles: default-roles-rh-realm, offline_access, DRH, uma_authorization
2025-05-11 01:51:57 [http-nio-8083-exec-1] DEBUG o.s.s.o.s.r.a.JwtAuthenticationProvider - Authenticated token
2025-05-11 01:51:57 [http-nio-8083-exec-1] DEBUG o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter - Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2d12be30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_DRH]]
2025-05-11 01:51:57 [http-nio-8083-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/events
2025-05-11 01:52:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:52:31.831510700
2025-05-11 01:52:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:52:31.838794300
2025-05-11 01:52:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:52:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:53:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:53:31.831709700
2025-05-11 01:53:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:53:31.836079900
2025-05-11 01:53:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 1 notifications due for processing
2025-05-11 01:53:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Processing notification ID=97 for event 'Test event 2 ' (scheduled at 2025-05-11T01:53)
2025-05-11 01:53:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Sending email to rayen.benothman07@gmail.com for event 'Test event 2 '
2025-05-11 01:53:33 [scheduling-1] INFO  c.r.hr_app.core.email.MailService - Event notification email sent to: rayen.benothman07@gmail.com
2025-05-11 01:53:33 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Sending email to raydineri07@gmail.com for event 'Test event 2 '
2025-05-11 01:53:35 [scheduling-1] INFO  c.r.hr_app.core.email.MailService - Event notification email sent to: raydineri07@gmail.com
2025-05-11 01:53:35 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Successfully processed notification ID=97
2025-05-11 01:53:35 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:54:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:54:31.826267800
2025-05-11 01:54:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:54:31.834824100
2025-05-11 01:54:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:54:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:55:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:55:31.834348600
2025-05-11 01:55:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:55:31.836707300
2025-05-11 01:55:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:55:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:55:40 [http-nio-8083-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-05-11 01:55:40 [http-nio-8083-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-05-11 01:55:40 [http-nio-8083-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:40 [http-nio-8083-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-05-11 01:55:40 [http-nio-8083-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-05-11 01:55:40 [http-nio-8083-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-05-11 01:55:40 [http-nio-8083-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-05-11 01:55:40 [http-nio-8083-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-05-11 01:55:40 [http-nio-8083-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-05-11 01:55:40 [http-nio-8083-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-05-11 01:55:40 [http-nio-8083-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-05-11 01:55:40 [http-nio-8083-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-05-11 01:55:40 [http-nio-8083-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-05-11 01:55:40 [http-nio-8083-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:40 [http-nio-8083-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:40 [http-nio-8083-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:40 [http-nio-8083-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:40 [http-nio-8083-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:41 [http-nio-8083-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-05-11 01:55:41 [http-nio-8083-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-05-11 01:55:41 [http-nio-8083-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:41 [http-nio-8083-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-05-11 01:55:41 [http-nio-8083-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-05-11 01:55:41 [http-nio-8083-exec-2] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 518 ms
2025-05-11 01:55:41 [http-nio-8083-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-05-11 01:55:42 [http-nio-8083-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-05-11 01:55:42 [http-nio-8083-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-05-11 01:55:42 [http-nio-8083-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-05-11 01:55:42 [http-nio-8083-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-05-11 01:55:42 [http-nio-8083-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-05-11 01:55:42 [http-nio-8083-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-05-11 01:55:42 [http-nio-8083-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-05-11 01:55:42 [http-nio-8083-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-05-11 01:55:42 [http-nio-8083-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-05-11 01:55:42 [http-nio-8083-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-05-11 01:55:42 [http-nio-8083-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-05-11 01:55:42 [http-nio-8083-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-05-11 01:55:42 [http-nio-8083-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-05-11 01:55:42 [http-nio-8083-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-05-11 01:55:42 [http-nio-8083-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-05-11 01:55:42 [http-nio-8083-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:55:42 [http-nio-8083-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-05-11 01:55:42 [http-nio-8083-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-05-11 01:55:42 [http-nio-8083-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-05-11 01:56:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:56:31.825998
2025-05-11 01:56:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:56:31.831237
2025-05-11 01:56:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:56:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:57:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:57:31.829708100
2025-05-11 01:57:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:57:31.831641300
2025-05-11 01:57:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:57:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:58:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:58:31.832917200
2025-05-11 01:58:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:58:31.836769
2025-05-11 01:58:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:58:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:59:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Running notification check at 2025-05-11T01:59:31.829578200
2025-05-11 01:59:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Looking for notifications scheduled before 2025-05-11T01:59:31.831357300
2025-05-11 01:59:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - Found 0 notifications due for processing
2025-05-11 01:59:31 [scheduling-1] INFO  c.r.h.f.c.event.service.EventService - SCHEDULER: Completed notification processing successfully
2025-05-11 01:59:58 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-11 01:59:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-11 01:59:58 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-11 01:59:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-11 01:59:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
